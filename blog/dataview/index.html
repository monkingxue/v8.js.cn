<!doctype html><html lang=zh-CN><meta charset=utf-8><title>Improving DataView performance in V8 · V8</title><meta content="width=device-width,initial-scale=1" name=viewport><link href=/_css/main.css rel=stylesheet><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><script>document.documentElement.className+=' js'</script><meta content="V8 v6.9 bridges the performance gap between DataView and equivalent TypedArray code, effectively making DataView usable for performance-critical real-world applications." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>显示导肮</a><nav><ul><li><a href=/ >主页</a><li class=active><a href=/blog>博客</a><li><a href=/docs>文档</a></ul></nav></header><main id=main><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>Improving <code>DataView</code> performance in V8</h1><p class=meta>发布时间：<time datetime="2018-09-18 11:20:37" itemprop=datePublished title="2018-09-18 11:20:37">2018-09-18</time> · 标签： <a href=/blog/tags/ecmascript class=tag>ECMAScript</a> <a href=/blog/tags/benchmarks class=tag>benchmarks</a></header><div itemprop=articleBody><p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView><code>DataView</code>s</a> are one of the two possible ways to do low-level memory accesses in JavaScript, the other one being <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray><code>TypedArray</code>s</a>. Up until now, <code>DataView</code>s were much less optimized than <code>TypedArray</code>s in V8, resulting in lower performance on tasks such as graphics-intensive workloads or when decoding/encoding binary data. The reasons for this have been mostly historical choices, like the fact that <a href=http://asmjs.org/ >asm.js</a> chose <code>TypedArray</code>s instead of <code>DataView</code>s, and so engines were incentivized to focus on performance of <code>TypedArray</code>s.<p>Because of the performance penalty, JavaScript developers such as the Google Maps team decided to avoid <code>DataView</code>s and rely on <code>TypedArray</code>s instead, at the cost of increased code complexity. This article explains how we brought <code>DataView</code> performance to match — and even surpass — equivalent <code>TypedArray</code> code in <a href=/blog/v8-release-69>V8 v6.9</a>, effectively making <code>DataView</code> usable for performance-critical real-world applications.<h2 id=background>Background <a href=#background class=bookmark aria-hidden=true>#</a></h2><p>Since the introduction of ES2015, JavaScript has supported reading and writing data in raw binary buffers called <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer><code>ArrayBuffer</code>s</a>. <code>ArrayBuffer</code>s cannot be directly accessed; rather, programs must use a so-called <em>array buffer view</em> object that can be either a <code>DataView</code> or a <code>TypedArray</code>.<p><code>TypedArray</code>s allow programs to access the buffer as an array of uniformly typed values, such as an <code>Int16Array</code> or a <code>Float32Array</code>.<pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><br><span class=highlight-line><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> i<span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span></span><br><br><span class=highlight-line>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token comment">// → [0, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225]</span></span></code></pre><p>On the other hand, <code>DataView</code>s allow for more fine-grained data access. They let the programmer choose the type of values read from and written to the buffer by providing specialized getters and setters for each number type, making them useful for serializing data structures.<pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><br><span class=highlight-line><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">1.76</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><br><span class=highlight-line>view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>view<span class="token punctuation">.</span><span class="token function">setFloat64</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><br><span class=highlight-line>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Expected output: 42</span></span><br><span class=highlight-line>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getFloat64</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Expected output: 1.76</span></span></code></pre><p>Moreover, <code>DataView</code>s also allow the choice of the endianness of the data storage, which can be useful when receiving data from external sources such as the network, a file, or a GPU.<pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><br><span class=highlight-line>view<span class="token punctuation">.</span><span class="token function">setInt32</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0x8BADF00D</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Little-endian write.</span></span><br><span class=highlight-line>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt32</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Big-endian read.</span></span><br><span class=highlight-line><span class="token comment">// Expected output: 0x0DF0AD8B (233876875)</span></span></code></pre><p>An efficient <code>DataView</code> implementation has been a feature request for a long time (see <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=225811">this bug report</a> from over 5 years ago), and we are happy to announce that DataView performance is now on par!<h2 id=legacy-runtime-implementation>Legacy runtime implementation <a href=#legacy-runtime-implementation class=bookmark aria-hidden=true>#</a></h2><p>Until recently, the <code>DataView</code> methods used to be implemented as built-in C++ runtime functions in V8. This is very costly, because each call would require an expensive transition from JavaScript to C++ (and back).<p>In order to investigate the actual performance cost incurred by this implementation, we set up a performance benchmark that compares the native <code>DataView</code> getter implementation with a JavaScript wrapper simulating <code>DataView</code> behavior. This wrapper uses an <code>Uint8Array</code> to read data byte by byte from the underlying buffer, and then computes the return value from those bytes. Here is, for example, the function for reading little-endian 32-bit unsigned integer values:<pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">function</span> <span class="token function">LittleEndian</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Simulate little-endian DataView reads.</span></span><br><span class=highlight-line>  <span class="token keyword">this</span><span class="token punctuation">.</span>uint8View_ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span></span><br><br><span class=highlight-line>LittleEndian<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function function-variable">getUint32</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>byteOffset<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>uint8View_<span class="token punctuation">[</span>byteOffset<span class="token punctuation">]</span> <span class="token operator">|</span></span><br><span class=highlight-line>    <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uint8View_<span class="token punctuation">[</span>byteOffset <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span></span><br><span class=highlight-line>    <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uint8View_<span class="token punctuation">[</span>byteOffset <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span></span><br><span class=highlight-line>    <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>uint8View_<span class="token punctuation">[</span>byteOffset <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">;</span></span></code></pre><p><code>TypedArray</code>s are already heavily optimized in V8, so they represent the performance goal that we wanted to match.<figure><img alt="" src=/_img/dataview/dataview-original.svg><figcaption>Original <code>DataView</code> performance</figcaption></figure><p>Our benchmark shows that native <code>DataView</code> getter performance was as much as <strong>4 times</strong> slower than the <code>Uint8Array</code>-based wrapper, for both big-endian and little-endian reads.<h2 id=improving-baseline-performance>Improving baseline performance <a href=#improving-baseline-performance class=bookmark aria-hidden=true>#</a></h2><p>Our first step in improving the performance of <code>DataView</code> objects was to move the implementation from the C++ runtime to <a href=/blog/csa><code>CodeStubAssembler</code> (also known as CSA)</a>. CSA is a portable assembly language that allows us to write code directly in TurboFan’s machine-level intermediate representation (IR), and we use it to implement optimized parts of V8’s JavaScript standard library. Rewriting code in CSA bypasses the call to C++ completely, and also generates efficient machine code by leveraging TurboFan’s backend.<p>However, writing CSA code by hand is cumbersome. Control flow in CSA is expressed much like in assembly, using explicit labels and <code>goto</code>s, which makes the code harder to read and understand at a glance.<p>In order to make it easier for developers to contribute to the optimized JavaScript standard library in V8, and to improve readability and maintainability, we started designing a new language called V8 <em>Torque</em>, that compiles down to CSA. The goal for <em>Torque</em> is to abstract away the low-level details that make CSA code harder to write and maintain, while retaining the same performance profile.<p>Rewriting the <code>DataView</code> code was an excellent opportunity to start using Torque for new code, and helped provide the Torque developers with a lot of feedback about the language. This is what the <code>DataView</code>’s <code>getUint32()</code> method looks like, written in Torque:<pre class=language-torque><code class=language-torque><span class=highlight-line><span class="token keyword">macro</span> LoadDataViewUint32<span class="token punctuation">(</span>buffer<span class="token class-name">: JSArrayBuffer,</span> offset<span class="token class-name">: intptr,</span></span><br><span class=highlight-line>                    requested_little_endian<span class="token class-name">: bool,</span></span><br><span class=highlight-line>                    signed<span class="token class-name">: <span class="token keyword">constexpr</span> bool)</span><span class="token class-name">: Number {</span></span><br><span class=highlight-line>  <span class="token keyword">let</span> data_pointer<span class="token class-name">: RawPtr =</span> buffer<span class="token punctuation">.</span>backing_store<span class="token punctuation">;</span></span><br><br><span class=highlight-line>  <span class="token keyword">let</span> b0<span class="token class-name">: uint32 =</span> LoadUint8<span class="token punctuation">(</span>data_pointer<span class="token punctuation">,</span> offset<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token keyword">let</span> b1<span class="token class-name">: uint32 =</span> LoadUint8<span class="token punctuation">(</span>data_pointer<span class="token punctuation">,</span> offset <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token keyword">let</span> b2<span class="token class-name">: uint32 =</span> LoadUint8<span class="token punctuation">(</span>data_pointer<span class="token punctuation">,</span> offset <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token keyword">let</span> b3<span class="token class-name">: uint32 =</span> LoadUint8<span class="token punctuation">(</span>data_pointer<span class="token punctuation">,</span> offset <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token keyword">let</span> result<span class="token class-name">: uint32;</span></span><br><br><span class=highlight-line>  <span class="token keyword">if</span> <span class="token punctuation">(</span>requested_little_endian<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>    result <span class="token operator">=</span> <span class="token punctuation">(</span>b3 <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>b2 <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>b1 <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span> b0<span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>    result <span class="token operator">=</span> <span class="token punctuation">(</span>b0 <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>b1 <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>b2 <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span> b3<span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span></span><br><br><span class=highlight-line>  <span class="token keyword">return</span> convert<span class="token operator">&lt;</span>Number<span class="token operator">></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span></span></code></pre><p>Moving the <code>DataView</code> methods to Torque already showed a <strong>3× improvement</strong> in performance, but did not quite match <code>Uint8Array</code>-based wrapper performance yet.<figure><img alt="" src=/_img/dataview/dataview-torque.svg><figcaption>Torque <code>DataView</code> performance</figcaption></figure><h2 id=optimizing-for-turbofan>Optimizing for TurboFan <a href=#optimizing-for-turbofan class=bookmark aria-hidden=true>#</a></h2><p>When JavaScript code gets hot, we compile it using our TurboFan optimizing compiler, in order to generate highly-optimized machine code that runs more efficiently than interpreted bytecode.<p>TurboFan works by translating the incoming JavaScript code into an internal graph representation (more precisely, <a href=https://darksi.de/d.sea-of-nodes/ >a “sea of nodes”</a>). It starts with high-level nodes that match the JavaScript operations and semantics, and gradually refines them into lower and lower level nodes, until it finally generates machine code.<p>In particular, a function call, such as calling one of the <code>DataView</code> methods, is internally represented as a <code>JSCall</code> node, which eventually boils down to an actual function call in the generated machine code.<p>However, TurboFan allows us to check whether the <code>JSCall</code> node is actually a call to a known function, for example one of the builtin functions, and inline this node in the IR. This means that the complicated <code>JSCall</code> gets replaced at compile-time by a subgraph that represents the function. This allows TurboFan to optimize the inside of the function in subsequent passes as part of a broader context, instead of on its own, and most importantly to get rid of the costly function call.<figure><img alt="" src=/_img/dataview/dataview-turbofan-initial.svg><figcaption>Initial TurboFan <code>DataView</code> performance</figcaption></figure><p>Implementing TurboFan inlining finally allowed us to match, and even exceed, the performance of our <code>Uint8Array</code> wrapper, and be <strong>8 times</strong> as fast as the former C++ implementation.<h2 id=further-turbofan-optimizations>Further TurboFan optimizations <a href=#further-turbofan-optimizations class=bookmark aria-hidden=true>#</a></h2><p>Looking at the machine code generated by TurboFan after inlining the <code>DataView</code> methods, there was still room for some improvement. The first implementation of those methods tried to follow the standard pretty closely, and threw errors when the spec indicates so (for example, when trying to read or write out of the bounds of the underlying <code>ArrayBuffer</code>).<p>However, the code that we write in TurboFan is meant to be optimized to be as fast as possible for the common, hot cases — it doesn’t need to support every possible edge case. By removing all the intricate handling of those errors, and just deoptimizing back to the baseline Torque implementation when we need to throw, we were able to reduce the size of the generated code by around 35%, generating a quite noticeable speedup, as well as considerably simpler TurboFan code.<p>Following up on this idea of being as specialized as possible in TurboFan, we also removed support for indices or offsets that are too large (outside of Smi range) inside the TurboFan-optimized code. This allowed us to get rid of handling of the float64 arithmetic that is needed for offsets that do not fit into a 32-bit value, and to avoid storing large integers on the heap.<p>Compared to the initial TurboFan implementation, this more than doubled the <code>DataView</code> benchmark score. <code>DataView</code>s are now up to 3 times as fast as the <code>Uint8Array</code> wrapper, and around <strong>16 times as fast</strong> as our original <code>DataView</code> implementation!<figure><img alt="" src=/_img/dataview/dataview-turbofan-final.svg><figcaption>Final TurboFan <code>DataView</code> performance</figcaption></figure><h2 id=impact>Impact <a href=#impact class=bookmark aria-hidden=true>#</a></h2><p>We’ve evaluated the performance impact of the new implementation on some real-world examples, on top of our own benchmark.<p><code>DataView</code>s are often used when decoding data encoded in binary formats from JavaScript. One such binary format is <a href=https://en.wikipedia.org/wiki/FBX>FBX</a>, a format that is used for exchanging 3D animations. We’ve instrumented the FBX loader of the popular <a href=https://threejs.org/ >three.js</a> JavaScript 3D library, and measured a 10% (around 80 ms) reduction in its execution time.<p>We compared the overall performance of <code>DataView</code>s against <code>TypedArray</code>s. We found that our new <code>DataView</code> implementation provides almost the same performance as <code>TypedArray</code>s when accessing data aligned in the native endianness (little-endian on Intel processors), bridging much of the performance gap and making <code>DataView</code>s a practical choice in V8.<figure><img alt="" src=/_img/dataview/dataview-vs-typedarray.svg><figcaption><code>DataView</code> vs. <code>TypedArray</code> peak performance</figcaption></figure><p>We hope that you’re now able to start using <code>DataView</code>s where it makes sense, instead of relying on <code>TypedArray</code> shims. Please send us feedback on your <code>DataView</code> uses! You can reach us <a href=https://crbug.com/v8/new>via our bug tracker</a>, via mail to <a href=mailto:v8-users@googlegroups.com>v8-users@googlegroups.com</a>, or via <a href=https://twitter.com/v8js>@v8js on Twitter</a>.</div><footer><div><img alt="" src=/_img/avatars/benedikt-meurer.jpg height=96 lazyload=on srcset="/_img/avatars/benedikt-meurer@2x.jpg 2x" width=96><p>作者：Théotime Grohens, <i lang=fr>le savant de Data-Vue</i>, and Benedikt Meurer (<a href=https://twitter.com/bmeurer>@bmeurer</a>), professional performance pal.</div><a href=https://twitter.com/v8js/status/1041981091727466496 class=retweet>Retweet this article!</a></footer></article></main><footer id=footer><nav><a href=https://v8.dev/blog/dataview>原文</a> · <a href=/logo>商标</a> · <a href=/terms>条款</a> · <a href=https://policies.google.com/privacy>隐私</a> · <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> · <a href=https://github.com/justjavac/v8.dev/tree/master/./src/blog/dataview.md rel=nofollow>在 GitHub 编辑此页面</a></nav><p><small>如无特殊说明，此 V8 项目中使用到的所有示例代码均基于 <a href=https://chromium.googlesource.com/v8/v8.git/+/master/LICENSE>V8's BSD-style license</a> 发布。页面中的文字内容采用 <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a> 进行许可。更详细的信息可以在 <a href=/terms#site-policies>站点策略</a> 中找到。</small></footer><script src=/_js/main.mjs type=module></script><script src=/_js/legacy.js nomodule></script>